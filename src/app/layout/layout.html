<div class="layout-root">
  <!-- TOP BAR -->
  <nav class="navbar navbar-expand-lg px-3">
    <div>
      @if (theme.current() === 'dark') {
        <img src="/whizsheet-transparent-red-logo.png" alt="Whizsheet" class="whizsheet-logo" (click)="toggleSideNav()" aria-label="Toggle menu" />
      } @else {
        <img src="/whizsheet-transparent-black-logo.png" alt="Whizsheet" class="whizsheet-logo" (click)="toggleSideNav()" aria-label="Toggle menu" />
      }
    </div>

    <a class="navbar-brand fw-bold" routerLink="/characters"> Whizsheet </a>

    <div class="ms-auto d-flex align-items-center gap-2">
      <button class="btn btn-outline-secondary theme-toggle" (click)="toggleTheme()">
        @if (theme.current() === 'dark') {
          <i class="bi bi-moon-fill moon-icon"></i>
          <span>Dark</span>
        } @else {
          <i class="bi bi-sun-fill sun-icon"></i>
          <span>Light</span>
        }
      </button>

      <a class="btn btn-outline-primary" routerLink="/characters"> Characters </a>

      <button class="btn btn-outline-danger" (click)="logout()">Logout</button>
    </div>
  </nav>

  @if (isSideNavOpen()) {
    <div class="side-nav-overlay" (click)="toggleSideNav()"></div>
  }

  <!-- BODY -->
  <div class="layout-body">
    <app-side-nav />

    <main class="content">
      <router-outlet />
    </main>
  </div>

  <app-footer />
</div>
